{
  "info": {
    "_postman_id": "12345678-1234-1234-1234-123456789012",
    "name": "EasyDo Webhook Service Examples",
    "description": "Postman collection showing how external users can integrate with EasyDo webhook service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "item": [
    {
      "name": "ðŸ“± Customer Event-Based Triggers",
      "item": [
        {
          "name": "User Created Event",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Webhook-Signature",
                "value": "sha256=abc123def456",
                "description": "HMAC SHA256 signature - generate in your app"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"user.created\",\n  \"timestamp\": \"2025-01-03T21:40:00Z\",\n  \"data\": {\n    \"user_id\": \"12345\",\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"phone\": \"+201098518194\",\n    \"created_at\": \"2025-01-03T21:40:00Z\"\n  }\n}"
            },
            "url": {
              "raw": "https://easydo.whatsapp.com/api/webhooks/trigger/5a14d043-2046-448b-ac6a-7d9f83c82176",
              "protocol": "https",
              "host": [
                "easydo",
                "whatsapp",
                "com"
              ],
              "path": [
                "api",
                "webhooks",
                "trigger",
                "5a14d043-2046-448b-ac6a-7d9f83c82176"
              ]
            },
            "description": "Trigger WhatsApp notification when a user is created. Replace trigger ID with yours."
          }
        },
        {
          "name": "Bulk User Creation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Webhook-Signature",
                "value": "sha256=your_signature_here"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"user.created\",\n  \"timestamp\": \"2025-01-03T21:40:00Z\",\n  \"data\": {\n    \"users\": [\n      {\n        \"user_id\": \"12345\",\n        \"name\": \"John Doe\",\n        \"phone\": \"+1234567890\"\n      },\n      {\n        \"user_id\": \"12346\",\n        \"name\": \"Jane Smith\",\n        \"phone\": \"+0987654321\"\n      }\n    ]\n  }\n}"
            },
            "url": {
              "raw": "https://easydo.whatsapp.com/api/webhooks/trigger/5a14d043-2046-448b-ac6a-7d9f83c82176?phone_path=data.users[*].phone",
              "protocol": "https",
              "host": [
                "easydo",
                "whatsapp",
                "com"
              ],
              "path": [
                "api",
                "webhooks",
                "trigger",
                "5a14d043-2046-448b-ac6a-7d9f83c82176"
              ],
              "query": [
                {
                  "key": "phone_path",
                  "value": "data.users[*].phone"
                }
              ]
            },
            "description": "Create multiple users. Use [*] to iterate over arrays."
          }
        }
      ]
    },
    {
      "name": "ðŸ”„ Customer CRUD Triggers",
      "item": [
        {
          "name": "Create/Update Customer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Webhook-Signature",
                "value": "sha256=your_signature_here"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customer_id\": \"CUST-001\",\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"address\": \"123 Main St\",\n  \"subscription_status\": \"active\"\n}"
            },
            "url": {
              "raw": "https://easydo.whatsapp.com/api/webhooks/trigger/7f87e53e-4477-4c24-9752-8f0b92a7a64d",
              "protocol": "https",
              "host": [
                "easydo",
                "whatsapp",
                "com"
              ],
              "path": [
                "api",
                "webhooks",
                "trigger",
                "7f87e53e-4477-4c24-9752-8f0b92a7a64d"
              ]
            },
            "description": "Create or update customer data (upsert operation)."
          }
        }
      ]
    },
    {
      "name": "ðŸ“„ Template Triggers",
      "item": [
        {
          "name": "Create WhatsApp Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Webhook-Signature",
                "value": "sha256=your_signature_here"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"template_id\": \"welcome_msg_001\",\n  \"name\": \"welcome_message\",\n  \"language\": \"en\",\n  \"category\": \"MARKETING\",\n  \"content\": {\n    \"body\": \"Welcome {{name}}! Your account is active.\"\n  },\n  \"status\": \"PENDING\"\n}"
            },
            "url": {
              "raw": "https://easydo.whatsapp.com/api/webhooks/trigger/1314a707-ad5f-4bfd-8759-0e312d813bdd",
              "protocol": "https",
              "host": [
                "easydo",
                "whatsapp",
                "com"
              ],
              "path": [
                "api",
                "webhooks",
                "trigger",
                "1314a707-ad5f-4bfd-8759-0e312d813bdd"
              ]
            },
            "description": "Create a new WhatsApp template."
          }
        }
      ]
    },
    {
      "name": "ðŸ”§ Testing & Monitoring",
      "item": [
        {
          "name": "Test Webhook (Dry Run)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"user.created\",\n  \"data\": {\n    \"user_id\": \"12345\",\n    \"name\": \"John Doe\",\n    \"phone\": \"+1234567890\"\n  }\n}"
            },
            "url": {
              "raw": "https://easydo.whatsapp.com/api/webhooks/triggers/5a14d043-2046-448b-ac6a-7d9f83c82176/test",
              "protocol": "https",
              "host": [
                "easydo",
                "whatsapp",
                "com"
              ],
              "path": [
                "api",
                "webhooks",
                "triggers",
                "5a14d043-2046-448b-ac6a-7d9f83c82176",
                "test"
              ]
            },
            "description": "Test webhook without sending real messages."
          }
        },
        {
          "name": "Get Webhook Logs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://easydo.whatsapp.com/api/webhooks/triggers/5a14d043-2046-448b-ac6a-7d9f83c82176/logs?limit=10",
              "protocol": "https",
              "host": [
                "easydo",
                "whatsapp",
                "com"
              ],
              "path": [
                "api",
                "webhooks",
                "triggers",
                "5a14d043-2046-448b-ac6a-7d9f83c82176",
                "logs"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Monitor webhook execution history."
          }
        }
      ]
    }
  ]
}